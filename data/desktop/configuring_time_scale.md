Setting up the Scale
===========================================

<img src="desktop/gantt_dates.png"/>


You can configure the following aspects of the time scale (X-Axis):

1. [Unit](desktop/configuring_time_scale.md#settingthetimeunitofthescale)
2. [Min, Max values](desktop/configuring_time_scale.md#settingtheminmaxvaluesofthescale)
3. [Step](desktop/configuring_time_scale.md#settingthestepofthescale)
4. [Height](desktop/configuring_time_scale.md#settingthescalesheight)
5. [Format](desktop/configuring_time_scale.md#settingthescalesformat)
6. [Style](desktop/configuring_time_scale.md#settingthescalesstyle)
7. [Second scale](desktop/configuring_time_scale.md#addingthesecondscales)

- [Custom scale](desktop/configuring_time_scale.md#settingacustomscale)

Setting the time unit of the scale
----------------------------------------
<img src="desktop/week_scale_unit.png"/>


To set the unit of the scale, use the api/gantt_scale_unit_config.md property: 

{{snippet
Setting the "week" unit for the scale
}}
~~~js
gantt.config.scale_unit = "week"; /*!*/
gantt.config.date_scale = "Week #%W";
gantt.init("gantt_here");
~~~
{{sample
	03_scales/02_month_days.html
}}



Setting the min, max values of the scale
--------------------------------------
<img src="desktop/day_scale_unit.png"/>

To set the minimum and maximum values of the scale, you have 2 ways:

<ol>
	<li>To use the parameters of the dhtmlxGantt constructor (the api/gantt_init.md method):<br><br>
~~~js
gantt.init("gantt_here", new Date(2013, 02, 31), new Date(2013, 03, 09));
~~~
	</li>
	<li>To use the api/gantt_start_date_config.md and api/gantt_end_date_config.md properties: <br><br>
~~~js
gantt.config.start_date = new Date(2013, 02, 31);
gantt.config.end_date = new Date(2013, 03, 09);

gantt.init("gantt_here");
~~~
	</li>
</ol>

{{sample
	01_initialization/08_explicit_time_range.html
}}

Note, if you don't set the min and max date values, they will be set automatically. Thus, all tasks in the Gantt chart will occur within these autogenerated dates.


Setting the  step of the scale
--------------------------------------
<img src="desktop/scale_step.png"/>

To set the step of the time scale, use the api/gantt_step_config.md property:

{{snippet
Setting the "day" step for the scale
}}
~~~js
gantt.config.scale_unit= "day";
gantt.config.step = 2;  /*!*/

gantt.init("gantt_here");
~~~

{{sample
	03_scales/03_full_year.html
}}


Setting the scale's height
--------------------------------------
<img src="desktop/scale_height.png"/>

To set the height of the scale, use the api/gantt_scale_height_config.md property:

~~~js
gantt.config.scale_height = 54; /*!*/

gantt.init("gantt_here");
~~~

{{sample
	03_scales/04_days.html
}}


If you have several scales, they will share the specified height equally. For example, if **scale_height** is 60 pixels and you have 3 scales, each scale will have the height of 60 / 3 = 20 pixels.





Setting the scale's format
----------------------------------------------
{{note
See the desktop/date_format.md article to know about available format characters 
}}


To set the format of the scale, use:

<ul>
	<li>the api/gantt_date_scale_config.md property,  to set a simple format as a string:<br><br>

~~~js
gantt.config.scale_unit = "day";
gantt.config.date_scale = "%F, %d"; /*!*/

gantt.init("gantt_here");
~~~

{{sample
	03_scales/01_multiple_scales.html
}}

<img style="margin-top:12px; margin-bottom:20px;" src="desktop/scale_format.png"/>


</li>
<li>the api/gantt_date_scale_template.md template,  to set a complex format as a function that takes a date object as a parameter:<br><br>

~~~js
var scale_day = 0;
gantt.templates.date_scale = function(date) {/*!*/
	var d = gantt.date.date_to_str("%F %d");/*!*/
    return "<strong>Day " + (scale_day++) + "</strong><br/>" + d(date);/*!*/
};/*!*/
gantt.config.scale_height = 44;
gantt.init("gantt_here");
~~~


{{sample
	03_scales/06_custom_scales.html
}}

<img style="margin-top:12px;" src="desktop/scale_template.png"/>
</li>
</ul>

Setting the scale's style
------------------------------------
<img src="desktop/scale_style.png"/>

To style the scale, use the api/gantt_scale_cell_class_template.md template:

{{snippet
Setting a custom style for the scale
}}
~~~js
<style type="text/css">
   .weekend{ background: #BD7990!important; color:white !important;}
</style>
<script>
	gantt.templates.scale_cell_class = function(date){/*!*/
        if(date.getDay()==0||date.getDay()==6){ return "weekend"; }/*!*/
    };/*!*/
    gantt.init("gantt_here");
</script>
~~~

{{sample
	04_customization/06_highlight_weekend.html
}}


Read more on applying a custom style to the timeline area in the desktop/highlighting_time_slots.md article.

Adding the second scale(s)
----------------------------------------------
<img src="desktop/secondscale.png"/>

To add the second scale(s) underneath the default one, use the the api/gantt_subscales_config.md property:

{{snippet
Adding the second scale to the Gantt chart
}}
~~~js
gantt.config.subscales = [/*!*/
	{unit:"week", step:1, date:"Week #%W"}/*!*/
];/*!*/
gantt.config.scale_height = 54;
gantt.init("gantt_here");
~~~
{{sample
	03_scales/01_multiple_scales.html
}}

Read more on second scales in a separate article - desktop/second_scale.md.



Setting a custom scale 
-------------------------------------------------
dhtmlxGantt allows you to define custom time units and set a template for labels in the scale configuration.

To define a custom unit you need to define 2 functions in the [Date object](api/gantt_date_other.md): 

~~~js
Date gantt.date.<unit>_start(Date date);
Date gantt.date.add_<unit>(Date date, Integer increment);
~~~

- The first function shall return the start time unit for any given date (e.g. month_start for 14 Feb -> 1st Feb).
- The second function increments the date by any given number of duration units (e.g. 'date minus 2 days') 


Let's consider how the 'quarter' unit was specified:

~~~js
gantt.date.quarter_start = function(date){ /*!*/
   gantt.date.month_start(date);
   var m = date.getMonth(),
      res_month;

   if(m >= 9){
      res_month = 9;
   }else if(m >= 6){
      res_month = 6;
   }else if(m >= 3){
      res_month = 3;
   }else{
      res_month = 0;
   }

   date.setMonth(res_month);
   return date;
};
gantt.date.add_quarter = function(date, inc){ /*!*/
   return gantt.date.add(date, inc*3, "month");
};
~~~

And then use them in the code as in:
~~~js
function quarterLabel(date){
	var month = date.getMonth();
    var q_num;
	
    if(month >= 9){ 
    	q_num = 4;
	}else if(month >= 6){
    	q_num = 3;
	}else if(month >= 3){
    	q_num = 2;
	}else{
    	q_num = 1;
	}
	return "Q" + q_num;
}

gantt.config.subscales = [
	{unit:"quarter", step:1, template:quarterLabel},
    {unit:"month", step:1, date:"%M" }
];
~~~

