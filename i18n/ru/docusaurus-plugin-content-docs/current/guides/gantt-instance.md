---
title: "Особенности экземпляра Gantt"
sidebar_label: "Особенности экземпляра Gantt"
---

Особенности экземпляра Gantt
=========================

В этой статье рассматриваются ключевые аспекты работы с экземпляром Gantt.

Рассмотрим типичный сценарий - создание приложения с несколькими страницами, вкладками или представлениями.

Следующий способ применяется к приложениям на Angular (или React) и доступен только в коммерческих версиях dhtmlxGantt: Commercial, Enterprise или Ultimate (не поддерживается в редакциях GPL или Individual):

- При открытии страницы, вкладки или представления с диаграммой Gantt должен создаваться новый экземпляр Gantt.
- При переходе на другую страницу, вкладку или представление текущий экземпляр Gantt необходимо [уничтожить](guides/multiple-gantts.md#destructorofganttanddataprocessorinstances).

**В качестве альтернативы** (этот способ работает во всех версиях) вы можете выполнить ручной сброс всех данных.


:::note
Ознакомьтесь с [примером](https://snippet.dhtmlx.com/5/abec296e0), который демонстрирует, как реализовать этот подход.


При нажатии на кнопку **Recreate Gantt** будет инициализирован Gantt, загружены задачи и привязаны события. При уничтожении Gantt эти события будут отвязаны.
:::

Ниже приведены важные моменты, которые стоит учитывать при использовании ручного сброса:

## Пользовательские события

При загрузке страницы с Gantt сохраните ID событий в массив перед их добавлением:

~~~js
const onTaskClick = gantt.attachEvent('onTaskClick', (id) => {
    gantt.message(`onTaskClick: Task ID: ${id}`);
    return true;
}, '');
eventIDs.push(onTaskClick);
~~~

При переходе на другую страницу отвяжите события вручную, используя сохранённые ID:

~~~js
eventIDs.forEach(event => gantt.detachEvent(event));
eventIDs = [];
~~~

Подробнее смотрите в разделе [Detaching events](guides/handling-events.md#detachingevents).

## Data Processor

[DataProcessor](api/method/dataprocessor.md) необходимо уничтожать вручную:

~~~js
dp.destructor();
~~~

Обратите внимание, что нужно уничтожать только dataProcessor, а не сам экземпляр Gantt. Уничтожение Gantt приведёт к невозможности дальнейшего использования до перезагрузки страницы.

## Задачи, связи, данные ресурсов, маркеры, пользовательские горячие клавиши

Их можно безопасно очистить из экземпляра Gantt с помощью метода [clearAll()](api/method/clearall.md).

## Конфигурация Gantt

Встроенной опции для сохранения или сброса конфигурации Gantt к значениям по умолчанию нет. Большинство настроек хранятся в объекте [gantt.config](api/overview/properties-overview.md).

## CSS

Если был добавлен пользовательский CSS, вызывающий проблемы, его потребуется удалить вручную.

## Настройки календаря

Настройки календаря следует удалять вручную с помощью метода [gantt.deleteCalendar()](api/method/deletecalendar.md).

## Другие случаи

Помимо вышеуказанных пунктов, могут возникнуть другие сценарии, требующие дополнительной обработки. Однако не все возможные случаи при таком подходе были полностью протестированы.

