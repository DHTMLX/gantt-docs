---
title: "Модуль экспорта в PDF"
sidebar_label: "Модуль экспорта в PDF"
---

Модуль экспорта в PDF
=======================

Данный модуль экспорта позволяет экспортировать данные в форматы PDF, PNG, Excel и iCal. Его можно развернуть на любой платформе как Node.js приложение или с помощью Docker-образа.

Обратите внимание: он не поддерживает импорт/экспорт файлов MS Project и Primavera. Для этих целей используйте [специализированный модуль экспорта](guides/msp-export-module.md) или наш онлайн-сервис.

## Руководство по установке

Для начала загрузите и установите Node.js, следуя инструкциям [на официальном сайте](https://nodejs.org/en/).

Модуль экспорта доступен в Личном кабинете во вкладке Downloads. Пример:

![PDF export module download](/img/pdf_export_module_download.png)

После загрузки распакуйте архив в удобное место. Затем откройте командную строку и перейдите в папку с модулем экспорта, например:

~~~
cd C:export_module
~~~

Далее установите необходимые модули приложения:

~~~
npm install
~~~

Если вы хотите [установить компоненты на сервер без графического интерфейса](#usingserverwithoutgraphicalinterface), следуйте соответствующему разделу ниже.

Для запуска модуля экспорта на сервере с графическим интерфейсом используйте команду:

~~~
npm start
~~~

Чтобы проверить работоспособность, откройте URL: [http://localhost:3200/test](http://localhost:3200/test).

Или откройте главную страницу по адресу [http://localhost:3200](http://localhost:3200) и кликните по ссылке Test.

## Использование сервера без графического интерфейса

Для запуска модуля экспорта на headless-сервере потребуются дополнительные компоненты. На дистрибутивах, основанных на Debian, используйте команду:

~~~
apt-get install -y xvfb libgtk2.0-0 libgtk-3-0 libgbm-dev 
libnotify-dev libnss3 libxss1 libasound2 libxtst6 xauth
~~~

На RPM-дистрибутивах выполните:

~~~
yum install -y xorg-x11-server-Xvfb gtk2-devel gtk3-devel 
libnotify-devel GConf2 nss libXScrnSaver alsa-lib
~~~

После этого запустите модуль одной из следующих команд:

~~~
npm run start:docker
~~~

или

~~~
xvfb-run node index.js
~~~

## Решение проблем

### Старая версия Node.js

Модуль экспорта работает с Node.js версии 12.03 и выше. Если у вас установлена более старая версия, установите предыдущую версию Electron:

~~~
npm install electron@6.1
~~~

### Экспорт в PDF не завершается

На Windows-системах с пользовательскими настройками DPI или шрифтами есть известная ошибка Electron. Для её устранения установите более старую версию Electron:

~~~
npm install electron@6.1
~~~

### Экспорт в PDF/PNG не работает на Mac M1

Используемая версия Electron не поддерживает Darwin-ARM64 сборки. В качестве временного решения попробуйте установить Electron 11:

~~~
npm install electron@11
~~~

Базовые функции экспорта должны работать, хотя не все возможности были протестированы с этой версией.

### Экспорт в PDF не работает

Возможны несколько причин. Внимательно проверьте сообщения об ошибках.

Если вы видите ошибки вида:

* Failed to get crash dump id

* Electron crashed!

обычно это означает, что модуль экспорта запущен на сервере без графического интерфейса. В этом случае необходимо 
[установить необходимые компоненты для экспорта PDF и PNG](#usingserverwithoutgraphicalinterface) или использовать Docker-образ.

### Использование Docker-образа

Создайте Docker-образ командой:

~~~
docker build -t dhtmlx/scheduler-gantt-export ./
~~~

Запустите контейнер Docker с помощью:

~~~
docker run -d -p 3200:80 dhtmlx/scheduler-gantt-export
~~~

Здесь 3200 - порт, по которому будет доступен сервис Docker.
