---
title: "Производительность: Способы улучшения"
sidebar_label: "Производительность: Способы улучшения"
---

# Производительность: Способы улучшения

## Общие техники

При работе с 10 000-20 000 задач, в зависимости от вашей конфигурации и используемых плагинов, вы можете заметить задержки при отрисовке Gantt на странице.

Вот несколько подходов для решения этой проблемы:

1. Отключите отрисовку отдельных ячеек и отображайте только строки (установите опцию [show_task_cells](api/config/show_task_cells.md) в значение 'false').
2. Используйте фоновое изображение для области временной шкалы вместо отрисовки реальных линий (установите опцию [static_background](api/config/static_background.md) в значение 'true') (**PRO**-функция, для версий до v6.3, [см. подробности ниже](#static_background)).
3. Включите динамическую загрузку (установите опцию [branch_loading](api/config/branch_loading.md) в значение 'true').
4. Увеличьте шаг шкалы, установив свойство **unit** опции [scales](api/config/scales.md) в "month" или "year".
5. Сузьте диапазон отображаемых дат (используйте опции [start_date](api/config/start_date.md) и [end_date](api/config/end_date.md)).
6. Уберите индикаторы прогресса из задач (установите опцию [show_progress](api/config/show_progress.md) в значение 'false').
7. Ускорьте отрисовку шкалы, включив опцию [smart_scales](api/config/smart_scales.md), если она ещё не включена.
8. При использовании [календарей рабочего времени](guides/working-time.md) убедитесь, что настройки рабочего времени заданы до загрузки данных в Gantt. В противном случае длительности задач будут пересчитаны дважды - при загрузке задач и при применении нового календаря. Это не приведёт к ошибкам, но может увеличить время инициализации приложения.
9. Если вы устанавливаете конфигурацию [duration_unit](api/config/duration_unit.md) в "hour" или "minute", убедитесь, что [duration_step](api/config/duration_step.md) установлен в 1. Такая комбинация активирует определённые оптимизации для вычислений рабочего времени, которые работают только при шаге 1. Имейте в виду, что есть существенная разница в производительности между "оптимизированным" и "неоптимизированным" режимами.


[Performance tweaks](https://docs.dhtmlx.com/gantt/samples/08_api/10_performance_tweaks.html)


## Умная отрисовка (Smart Rendering) {#smartrendering}

Умная отрисовка значительно ускоряет отображение данных при работе с большими наборами данных. В этом режиме отрисовываются только те задачи и связи, которые видимы на экране.

Начиная с версии v6.2, умная отрисовка включена по умолчанию в основном файле *dhtmlxgantt.js*, поэтому подключать файл *dhtmlxgantt_smart_rendering.js* больше не требуется.

:::note
Если вы подключите старый файл *dhtmlxgantt_smart_rendering.js*, он перезапишет улучшения новой встроенной расширяемой **smart_rendering**.
:::

Чтобы отключить умную отрисовку, установите параметр конфигурации в false:

~~~js
gantt.config.smart_rendering = false;
~~~


[Working with 30000 tasks](https://docs.dhtmlx.com/gantt/samples/02_extensions/13_smart_rendering.html)


Обычный процесс умной отрисовки проверяет, находится ли элемент Gantt в видимой области, и решает, отображать его или нет.

Однако умная отрисовка для [кастомных слоёв](guides/baselines.md) по умолчанию поддерживает только вертикальную умную отрисовку. Это значит, что кастомные слои отрисовываются, когда строка задачи видима, но точная горизонтальная позиция кастомного элемента не вычисляется, поэтому вся строка задачи считается его позицией.

 *Подробнее о включении горизонтальной умной отрисовки для кастомных слоёв см. в статье [addTaskLayer](api/method/addtasklayer.md#smartrenderingforcustomlayers).*


### Работа с большим диапазоном дат {#static_background}

:::info
Эта функция доступна только в PRO-версии
:::

Если ваш проект использует большой диапазон дат и вы используете версию Gantt до v6.3, вы можете включить опцию [static_background](api/config/static_background.md) вместе с умной отрисовкой, чтобы использовать фоновое изображение для области временной шкалы вместо отрисовки реальных линий.

~~~js
gantt.config.static_background = true;
~~~

Для версий Gantt v6.3 и выше эта опция в основном помогает уменьшить размер запросов, отправляемых на сервер экспорта при экспорте данных.

